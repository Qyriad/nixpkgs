Sourcing python-remove-tests-dir-hook
Sourcing python-catch-conflicts-hook.sh
Sourcing python-remove-bin-bytecode-hook.sh
Sourcing pypa-build-hook
Using pypaBuildPhase
Sourcing python-runtime-deps-check-hook
Using pythonRuntimeDepsCheckHook
Sourcing pypa-install-hook
Using pypaInstallPhase
Sourcing python-imports-check-hook.sh
Using pythonImportsCheckPhase
Sourcing python-namespaces-hook
Sourcing python-catch-conflicts-hook.sh
@nix { "action": "setPhase", "phase": "unpackPhase" }
Running phase: unpackPhase
unpacking source archive /nix/store/6mdk888jg2bmv50p89qh5m1gq7gswzgy-source
source root is source
setting SOURCE_DATE_EPOCH to timestamp 315619200 of file source/tests/test_helper.py
@nix { "action": "setPhase", "phase": "patchPhase" }
Running phase: patchPhase
substituteStream(): WARNING: '--replace' is deprecated, use --replace-{fail,warn,quiet}. (file 'tests/pty_test.py')
@nix { "action": "setPhase", "phase": "updateAutotoolsGnuConfigScriptsPhase" }
Running phase: updateAutotoolsGnuConfigScriptsPhase
@nix { "action": "setPhase", "phase": "configurePhase" }
Running phase: configurePhase
no configure script, doing nothing
@nix { "action": "setPhase", "phase": "buildPhase" }
Running phase: buildPhase
Executing pypaBuildPhase
Creating a wheel...
[1m* Getting build dependencies for wheel...[0m
running egg_info
creating asciinema.egg-info
writing asciinema.egg-info/PKG-INFO
writing dependency_links to asciinema.egg-info/dependency_links.txt
writing entry points to asciinema.egg-info/entry_points.txt
writing top-level names to asciinema.egg-info/top_level.txt
writing manifest file 'asciinema.egg-info/SOURCES.txt'
reading manifest file 'asciinema.egg-info/SOURCES.txt'
adding license file 'LICENSE'
writing manifest file 'asciinema.egg-info/SOURCES.txt'
[1m* Building wheel...[0m
running bdist_wheel
running build
running build_py
creating build
creating build/lib
creating build/lib/asciinema
copying asciinema/urllib_http_adapter.py -> build/lib/asciinema
copying asciinema/tty_.py -> build/lib/asciinema
copying asciinema/recorder.py -> build/lib/asciinema
copying asciinema/pty_.py -> build/lib/asciinema
copying asciinema/player.py -> build/lib/asciinema
copying asciinema/notifier.py -> build/lib/asciinema
copying asciinema/http_adapter.py -> build/lib/asciinema
copying asciinema/file_writer.py -> build/lib/asciinema
copying asciinema/config.py -> build/lib/asciinema
copying asciinema/async_worker.py -> build/lib/asciinema
copying asciinema/api.py -> build/lib/asciinema
copying asciinema/__main__.py -> build/lib/asciinema
copying asciinema/__init__.py -> build/lib/asciinema
creating build/lib/asciinema/asciicast
copying asciinema/asciicast/v2.py -> build/lib/asciinema/asciicast
copying asciinema/asciicast/v1.py -> build/lib/asciinema/asciicast
copying asciinema/asciicast/raw.py -> build/lib/asciinema/asciicast
copying asciinema/asciicast/events.py -> build/lib/asciinema/asciicast
copying asciinema/asciicast/__init__.py -> build/lib/asciinema/asciicast
creating build/lib/asciinema/commands
copying asciinema/commands/upload.py -> build/lib/asciinema/commands
copying asciinema/commands/record.py -> build/lib/asciinema/commands
copying asciinema/commands/play.py -> build/lib/asciinema/commands
copying asciinema/commands/command.py -> build/lib/asciinema/commands
copying asciinema/commands/cat.py -> build/lib/asciinema/commands
copying asciinema/commands/auth.py -> build/lib/asciinema/commands
copying asciinema/commands/__init__.py -> build/lib/asciinema/commands
running egg_info
writing asciinema.egg-info/PKG-INFO
writing dependency_links to asciinema.egg-info/dependency_links.txt
writing entry points to asciinema.egg-info/entry_points.txt
writing top-level names to asciinema.egg-info/top_level.txt
reading manifest file 'asciinema.egg-info/SOURCES.txt'
adding license file 'LICENSE'
writing manifest file 'asciinema.egg-info/SOURCES.txt'
/nix/store/54mbk7y07h2hl7zvj49vd0g5arxcdiy9-python3.11-setuptools-69.0.3/lib/python3.11/site-packages/setuptools/command/build_py.py:207: _Warning: Package 'asciinema.data' is absent from the `packages` configuration.
!!

        ********************************************************************************
        ############################
        # Package would be ignored #
        ############################
        Python recognizes 'asciinema.data' as an importable package[^1],
        but it is absent from setuptools' `packages` configuration.

        This leads to an ambiguous overall configuration. If you want to distribute this
        package, please make sure that 'asciinema.data' is explicitly added
        to the `packages` configuration field.

        Alternatively, you can also rely on setuptools' discovery methods
        (for example by using `find_namespace_packages(...)`/`find_namespace:`
        instead of `find_packages(...)`/`find:`).

        You can read more about "package discovery" on setuptools documentation page:

        - https://setuptools.pypa.io/en/latest/userguide/package_discovery.html

        If you don't want 'asciinema.data' to be distributed and are
        already explicitly excluding 'asciinema.data' via
        `find_namespace_packages(...)/find_namespace` or `find_packages(...)/find`,
        you can try to use `exclude_package_data`, or `include-package-data=False` in
        combination with a more fine grained `package-data` configuration.

        You can read more about "package data files" on setuptools documentation page:

        - https://setuptools.pypa.io/en/latest/userguide/datafiles.html


        [^1]: For Python, any directory (with suitable naming) can be imported,
              even if it does not contain any `.py` files.
              On the other hand, currently there is no concept of package data
              directory, all directories are treated like packages.
        ********************************************************************************

!!
  check.warn(importable)
copying asciinema/py.typed -> build/lib/asciinema
creating build/lib/asciinema/data
copying asciinema/data/icon-256x256.png -> build/lib/asciinema/data
installing to build/bdist.linux-x86_64/wheel
running install
running install_lib
creating build/bdist.linux-x86_64
creating build/bdist.linux-x86_64/wheel
creating build/bdist.linux-x86_64/wheel/asciinema
creating build/bdist.linux-x86_64/wheel/asciinema/data
copying build/lib/asciinema/data/icon-256x256.png -> build/bdist.linux-x86_64/wheel/asciinema/data
copying build/lib/asciinema/py.typed -> build/bdist.linux-x86_64/wheel/asciinema
creating build/bdist.linux-x86_64/wheel/asciinema/commands
copying build/lib/asciinema/commands/__init__.py -> build/bdist.linux-x86_64/wheel/asciinema/commands
copying build/lib/asciinema/commands/auth.py -> build/bdist.linux-x86_64/wheel/asciinema/commands
copying build/lib/asciinema/commands/cat.py -> build/bdist.linux-x86_64/wheel/asciinema/commands
copying build/lib/asciinema/commands/command.py -> build/bdist.linux-x86_64/wheel/asciinema/commands
copying build/lib/asciinema/commands/play.py -> build/bdist.linux-x86_64/wheel/asciinema/commands
copying build/lib/asciinema/commands/record.py -> build/bdist.linux-x86_64/wheel/asciinema/commands
copying build/lib/asciinema/commands/upload.py -> build/bdist.linux-x86_64/wheel/asciinema/commands
creating build/bdist.linux-x86_64/wheel/asciinema/asciicast
copying build/lib/asciinema/asciicast/__init__.py -> build/bdist.linux-x86_64/wheel/asciinema/asciicast
copying build/lib/asciinema/asciicast/events.py -> build/bdist.linux-x86_64/wheel/asciinema/asciicast
copying build/lib/asciinema/asciicast/raw.py -> build/bdist.linux-x86_64/wheel/asciinema/asciicast
copying build/lib/asciinema/asciicast/v1.py -> build/bdist.linux-x86_64/wheel/asciinema/asciicast
copying build/lib/asciinema/asciicast/v2.py -> build/bdist.linux-x86_64/wheel/asciinema/asciicast
copying build/lib/asciinema/__init__.py -> build/bdist.linux-x86_64/wheel/asciinema
copying build/lib/asciinema/__main__.py -> build/bdist.linux-x86_64/wheel/asciinema
copying build/lib/asciinema/api.py -> build/bdist.linux-x86_64/wheel/asciinema
copying build/lib/asciinema/async_worker.py -> build/bdist.linux-x86_64/wheel/asciinema
copying build/lib/asciinema/config.py -> build/bdist.linux-x86_64/wheel/asciinema
copying build/lib/asciinema/file_writer.py -> build/bdist.linux-x86_64/wheel/asciinema
copying build/lib/asciinema/http_adapter.py -> build/bdist.linux-x86_64/wheel/asciinema
copying build/lib/asciinema/notifier.py -> build/bdist.linux-x86_64/wheel/asciinema
copying build/lib/asciinema/player.py -> build/bdist.linux-x86_64/wheel/asciinema
copying build/lib/asciinema/pty_.py -> build/bdist.linux-x86_64/wheel/asciinema
copying build/lib/asciinema/recorder.py -> build/bdist.linux-x86_64/wheel/asciinema
copying build/lib/asciinema/tty_.py -> build/bdist.linux-x86_64/wheel/asciinema
copying build/lib/asciinema/urllib_http_adapter.py -> build/bdist.linux-x86_64/wheel/asciinema
running install_data
creating build/bdist.linux-x86_64/wheel/asciinema-2.4.0.data
creating build/bdist.linux-x86_64/wheel/asciinema-2.4.0.data/data
creating build/bdist.linux-x86_64/wheel/asciinema-2.4.0.data/data/share
creating build/bdist.linux-x86_64/wheel/asciinema-2.4.0.data/data/share/doc
creating build/bdist.linux-x86_64/wheel/asciinema-2.4.0.data/data/share/doc/asciinema
copying CHANGELOG.md -> build/bdist.linux-x86_64/wheel/asciinema-2.4.0.data/data/share/doc/asciinema
copying CODE_OF_CONDUCT.md -> build/bdist.linux-x86_64/wheel/asciinema-2.4.0.data/data/share/doc/asciinema
copying CONTRIBUTING.md -> build/bdist.linux-x86_64/wheel/asciinema-2.4.0.data/data/share/doc/asciinema
copying README.md -> build/bdist.linux-x86_64/wheel/asciinema-2.4.0.data/data/share/doc/asciinema
copying doc/asciicast-v1.md -> build/bdist.linux-x86_64/wheel/asciinema-2.4.0.data/data/share/doc/asciinema
copying doc/asciicast-v2.md -> build/bdist.linux-x86_64/wheel/asciinema-2.4.0.data/data/share/doc/asciinema
creating build/bdist.linux-x86_64/wheel/asciinema-2.4.0.data/data/share/man
creating build/bdist.linux-x86_64/wheel/asciinema-2.4.0.data/data/share/man/man1
copying man/asciinema.1 -> build/bdist.linux-x86_64/wheel/asciinema-2.4.0.data/data/share/man/man1
running install_egg_info
Copying asciinema.egg-info to build/bdist.linux-x86_64/wheel/asciinema-2.4.0-py3.11.egg-info
running install_scripts
creating build/bdist.linux-x86_64/wheel/asciinema-2.4.0.dist-info/WHEEL
creating '/build/source/dist/.tmp-5xdrcwm1/asciinema-2.4.0-py3-none-any.whl' and adding 'build/bdist.linux-x86_64/wheel' to it
adding 'asciinema/__init__.py'
adding 'asciinema/__main__.py'
adding 'asciinema/api.py'
adding 'asciinema/async_worker.py'
adding 'asciinema/config.py'
adding 'asciinema/file_writer.py'
adding 'asciinema/http_adapter.py'
adding 'asciinema/notifier.py'
adding 'asciinema/player.py'
adding 'asciinema/pty_.py'
adding 'asciinema/py.typed'
adding 'asciinema/recorder.py'
adding 'asciinema/tty_.py'
adding 'asciinema/urllib_http_adapter.py'
adding 'asciinema/asciicast/__init__.py'
adding 'asciinema/asciicast/events.py'
adding 'asciinema/asciicast/raw.py'
adding 'asciinema/asciicast/v1.py'
adding 'asciinema/asciicast/v2.py'
adding 'asciinema/commands/__init__.py'
adding 'asciinema/commands/auth.py'
adding 'asciinema/commands/cat.py'
adding 'asciinema/commands/command.py'
adding 'asciinema/commands/play.py'
adding 'asciinema/commands/record.py'
adding 'asciinema/commands/upload.py'
adding 'asciinema/data/icon-256x256.png'
adding 'asciinema-2.4.0.data/data/share/doc/asciinema/CHANGELOG.md'
adding 'asciinema-2.4.0.data/data/share/doc/asciinema/CODE_OF_CONDUCT.md'
adding 'asciinema-2.4.0.data/data/share/doc/asciinema/CONTRIBUTING.md'
adding 'asciinema-2.4.0.data/data/share/doc/asciinema/README.md'
adding 'asciinema-2.4.0.data/data/share/doc/asciinema/asciicast-v1.md'
adding 'asciinema-2.4.0.data/data/share/doc/asciinema/asciicast-v2.md'
adding 'asciinema-2.4.0.data/data/share/man/man1/asciinema.1'
adding 'asciinema-2.4.0.dist-info/LICENSE'
adding 'asciinema-2.4.0.dist-info/METADATA'
adding 'asciinema-2.4.0.dist-info/WHEEL'
adding 'asciinema-2.4.0.dist-info/entry_points.txt'
adding 'asciinema-2.4.0.dist-info/top_level.txt'
adding 'asciinema-2.4.0.dist-info/RECORD'
removing build/bdist.linux-x86_64/wheel
[1m[92mSuccessfully built [4masciinema-2.4.0-py3-none-any.whl[0m[1m[92m[0m
Finished creating a wheel...
Finished executing pypaBuildPhase
@nix { "action": "setPhase", "phase": "pythonRuntimeDepsCheckHook" }
Running phase: pythonRuntimeDepsCheckHook
Executing pythonRuntimeDepsCheck
Checking runtime dependencies for asciinema-2.4.0-py3-none-any.whl
Finished executing pythonRuntimeDepsCheck
@nix { "action": "setPhase", "phase": "installPhase" }
Running phase: installPhase
Executing pypaInstallPhase
Successfully installed asciinema-2.4.0-py3-none-any.whl
Finished executing pypaInstallPhase
@nix { "action": "setPhase", "phase": "pythonOutputDistPhase" }
Running phase: pythonOutputDistPhase
Executing pythonOutputDistPhase
Finished executing pythonOutputDistPhase
@nix { "action": "setPhase", "phase": "fixupPhase" }
Running phase: fixupPhase
shrinking RPATHs of ELF executables and libraries in /nix/store/c1lbdsky9qq8wv5zwchwfhjrm640ql6q-asciinema-2.4.0
checking for references to /build/ in /nix/store/c1lbdsky9qq8wv5zwchwfhjrm640ql6q-asciinema-2.4.0...
gzipping man pages under /nix/store/c1lbdsky9qq8wv5zwchwfhjrm640ql6q-asciinema-2.4.0/share/man/
patching script interpreter paths in /nix/store/c1lbdsky9qq8wv5zwchwfhjrm640ql6q-asciinema-2.4.0
stripping (with command strip and flags -S -p) in  /nix/store/c1lbdsky9qq8wv5zwchwfhjrm640ql6q-asciinema-2.4.0/lib /nix/store/c1lbdsky9qq8wv5zwchwfhjrm640ql6q-asciinema-2.4.0/bin
shrinking RPATHs of ELF executables and libraries in /nix/store/wkvdw1813ivb8x6l2xxfxxmcd1afllg1-asciinema-2.4.0-dist
checking for references to /build/ in /nix/store/wkvdw1813ivb8x6l2xxfxxmcd1afllg1-asciinema-2.4.0-dist...
patching script interpreter paths in /nix/store/wkvdw1813ivb8x6l2xxfxxmcd1afllg1-asciinema-2.4.0-dist
Rewriting #!/nix/store/y027d3bvlaizbri04c1bzh28hqd6lj01-python3-3.11.7/bin/python3.11 to #!/nix/store/y027d3bvlaizbri04c1bzh28hqd6lj01-python3-3.11.7
wrapping `/nix/store/c1lbdsky9qq8wv5zwchwfhjrm640ql6q-asciinema-2.4.0/bin/asciinema'...
Executing pythonRemoveTestsDir
Finished executing pythonRemoveTestsDir
@nix { "action": "setPhase", "phase": "installCheckPhase" }
Running phase: installCheckPhase
tests.config_test.test_upgrade_no_config_file ... ok
tests.config_test.test_upgrade_config_file_with_api_token ... ok
tests.config_test.test_upgrade_config_file_with_api_token_and_more ... ok
tests.config_test.test_upgrade_config_file_with_user_token ... ok
tests.config_test.test_upgrade_config_file_with_user_token_and_more ... ok
tests.config_test.test_default_api_url ... ok
tests.config_test.test_default_record_stdin ... ok
tests.config_test.test_default_record_command ... ok
tests.config_test.test_default_record_env ... ok
tests.config_test.test_default_record_idle_time_limit ... ok
tests.config_test.test_default_record_yes ... ok
tests.config_test.test_default_record_quiet ... ok
tests.config_test.test_default_play_idle_time_limit ... ok
tests.config_test.test_api_url ... ok
tests.config_test.test_api_url_when_override_set ... ok
tests.config_test.test_record_command ... ok
tests.config_test.test_record_stdin ... ok
tests.config_test.test_record_env ... ok
tests.config_test.test_record_idle_time_limit ... ok
tests.config_test.test_record_yes ... ok
tests.config_test.test_record_quiet ... ok
tests.config_test.test_play_idle_time_limit ... ok
tests.config_test.test_notifications_enabled ... ok
tests.config_test.test_notifications_command ... ok

----------------------------------------------------------------------
Ran 24 tests in 0.003s

OK
@nix { "action": "setPhase", "phase": "pythonCatchConflictsPhase" }
Running phase: pythonCatchConflictsPhase
@nix { "action": "setPhase", "phase": "pythonRemoveBinBytecodePhase" }
Running phase: pythonRemoveBinBytecodePhase
@nix { "action": "setPhase", "phase": "pythonImportsCheckPhase" }
Running phase: pythonImportsCheckPhase
Executing pythonImportsCheckPhase
